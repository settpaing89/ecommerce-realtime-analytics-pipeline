account_id = "396913733976"
athena_query_results_location = "s3://ecommerce-analytics-dev-gold-396913733976/athena-results/"
athena_workgroup = "ecommerce-analytics-dev-analytics"
aws_console_urls = {
  "athena" = "https://console.aws.amazon.com/athena/home?region=us-east-1"
  "cloudwatch" = "https://console.aws.amazon.com/cloudwatch/home?region=us-east-1"
  "glue" = "https://console.aws.amazon.com/glue/home?region=us-east-1#catalog:tab=databases"
  "lambda" = "https://console.aws.amazon.com/lambda/home?region=us-east-1#/functions/ecommerce-analytics-dev-ingestion"
  "s3_bronze" = "https://s3.console.aws.amazon.com/s3/buckets/ecommerce-analytics-dev-bronze-396913733976"
  "s3_gold" = "https://s3.console.aws.amazon.com/s3/buckets/ecommerce-analytics-dev-gold-396913733976"
  "s3_silver" = "https://s3.console.aws.amazon.com/s3/buckets/ecommerce-analytics-dev-silver-396913733976"
}
bronze_bucket_name = "ecommerce-analytics-dev-bronze-396913733976"
cloudwatch_dashboard = "ecommerce-analytics-dev-dashboard"
cloudwatch_dashboard_url = "https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#dashboards:name=ecommerce-analytics-dev-dashboard"
deployment_timestamp = "2026-02-05T23:32:18Z"
env_vars_export = <<EOT
# AWS Resources - Generated by Terraform
# Add to .env file in project root
  
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=396913733976
  
BRONZE_BUCKET=ecommerce-analytics-dev-bronze-396913733976
SILVER_BUCKET=ecommerce-analytics-dev-silver-396913733976
GOLD_BUCKET=ecommerce-analytics-dev-gold-396913733976
  
LAMBDA_FUNCTION_NAME=ecommerce-analytics-dev-ingestion
  
GLUE_DATABASE=ecommerce-analytics_dev
GLUE_CRAWLER=ecommerce-analytics-dev-bronze-crawler
  
ATHENA_WORKGROUP=ecommerce-analytics-dev-analytics
ATHENA_OUTPUT_LOCATION=s3://ecommerce-analytics-dev-gold-396913733976/athena-results/
  
PROJECT_NAME=ecommerce-analytics
ENVIRONMENT=dev

EOT
eventbridge_rule_name = "ecommerce-analytics-dev-daily-pipeline"
glue_crawler_name = "ecommerce-analytics-dev-bronze-crawler"
glue_database_name = "ecommerce-analytics_dev"
glue_resources = {
  "crawler" = {
    "id" = "ecommerce-analytics-dev-bronze-crawler"
    "name" = "ecommerce-analytics-dev-bronze-crawler"
  }
  "database" = {
    "id" = "396913733976:ecommerce-analytics_dev"
    "name" = "ecommerce-analytics_dev"
  }
}
gold_bucket_name = "ecommerce-analytics-dev-gold-396913733976"
iam_roles = <sensitive>
infrastructure_summary = {
  "analytics" = {
    "athena_workgroup" = "ecommerce-analytics-dev-analytics"
  }
  "catalog" = {
    "glue_crawler" = "ecommerce-analytics-dev-bronze-crawler"
    "glue_database" = "ecommerce-analytics_dev"
  }
  "compute" = {
    "lambda_function" = "ecommerce-analytics-dev-ingestion"
  }
  "monitoring" = {
    "cloudwatch_dashboard" = "ecommerce-analytics-dev-dashboard"
  }
  "project" = {
    "account_id" = "396913733976"
    "environment" = "dev"
    "name" = "ecommerce-analytics"
    "region" = "us-east-1"
  }
  "storage" = {
    "bronze_bucket" = "ecommerce-analytics-dev-bronze-396913733976"
    "gold_bucket" = "ecommerce-analytics-dev-gold-396913733976"
    "silver_bucket" = "ecommerce-analytics-dev-silver-396913733976"
  }
}
lambda_function_name = "ecommerce-analytics-dev-ingestion"
lambda_functions = {
  "ingestion" = {
    "arn" = "arn:aws:lambda:us-east-1:396913733976:function:ecommerce-analytics-dev-ingestion"
    "name" = "ecommerce-analytics-dev-ingestion"
    "role" = "arn:aws:iam::396913733976:role/ecommerce-analytics-dev-lambda-role"
  }
}
next_steps = <<EOT
  
âœ… Infrastructure deployed successfully!
  
ðŸ“Š Resources Created:
- S3 Buckets: Bronze, Silver, Gold layers
- Lambda: ecommerce-analytics-dev-ingestion
- Glue Database: ecommerce-analytics_dev
- Glue Crawler: ecommerce-analytics-dev-bronze-crawler
- Athena Workgroup: ecommerce-analytics-dev-analytics
  
ðŸš€ Next Steps:
  
1. Generate sample data:
   python src/data_generation/generate_data.py
  
2. Upload data to S3:
   aws s3 cp data/bronze/ s3://ecommerce-analytics-dev-bronze-396913733976/orders/ --recursive
  
3. Run Glue Crawler to catalog data:
   aws glue start-crawler --name ecommerce-analytics-dev-bronze-crawler
  
4. Wait for crawler to finish (2-3 minutes):
   aws glue get-crawler --name ecommerce-analytics-dev-bronze-crawler --query 'Crawler.State'
  
5. Query data with Athena:
   Open: https://console.aws.amazon.com/athena/home?region=us-east-1
   Database: ecommerce-analytics_dev
   SELECT * FROM orders LIMIT 10;
  
ðŸ’° Estimated Cost So Far: ~$0.07
  
ðŸ“š Documentation: See README.md for detailed instructions
  

EOT
quick_commands = <<EOT
  
ðŸ“‹ Quick Commands:
  
# List S3 buckets
aws s3 ls | grep ecommerce-analytics
  
# Upload file to bronze layer
aws s3 cp <file> s3://ecommerce-analytics-dev-bronze-396913733976/
  
# Invoke Lambda function
aws lambda invoke --function-name ecommerce-analytics-dev-ingestion response.json
  
# Start Glue Crawler
aws glue start-crawler --name ecommerce-analytics-dev-bronze-crawler
  
# Check crawler status
aws glue get-crawler --name ecommerce-analytics-dev-bronze-crawler
  
# List Glue tables
aws glue get-tables --database-name ecommerce-analytics_dev
  
# View Lambda logs
aws logs tail /aws/lambda/ecommerce-analytics-dev-ingestion --follow
  
# Check current AWS costs
aws ce get-cost-and-usage --time-period Start=$(date -d '30 days ago' +%Y-%m-%d),End=$(date +%Y-%m-%d) --granularity MONTHLY --metrics BlendedCost
  

EOT
region = "us-east-1"
s3_buckets = {
  "bronze" = {
    "arn" = "arn:aws:s3:::ecommerce-analytics-dev-bronze-396913733976"
    "name" = "ecommerce-analytics-dev-bronze-396913733976"
    "url" = "s3://ecommerce-analytics-dev-bronze-396913733976"
  }
  "gold" = {
    "arn" = "arn:aws:s3:::ecommerce-analytics-dev-gold-396913733976"
    "name" = "ecommerce-analytics-dev-gold-396913733976"
    "url" = "s3://ecommerce-analytics-dev-gold-396913733976"
  }
  "silver" = {
    "arn" = "arn:aws:s3:::ecommerce-analytics-dev-silver-396913733976"
    "name" = "ecommerce-analytics-dev-silver-396913733976"
    "url" = "s3://ecommerce-analytics-dev-silver-396913733976"
  }
}
silver_bucket_name = "ecommerce-analytics-dev-silver-396913733976"
step_functions_console_url = "https://console.aws.amazon.com/states/home?region=us-east-1#/statemachines/view/arn:aws:states:us-east-1:396913733976:stateMachine:ecommerce-analytics-dev-pipeline"
step_functions_state_machine_arn = "arn:aws:states:us-east-1:396913733976:stateMachine:ecommerce-analytics-dev-pipeline"
step_functions_state_machine_name = "ecommerce-analytics-dev-pipeline"
